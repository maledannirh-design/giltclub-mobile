/* ================= COLOR SYSTEM ================= */

:root{
  --color-bg:#F2E8D5;
  --color-card:#FFFFFF;
  --color-text:#2E5D3A;
  --color-text-muted:#5f7d66;

  --color-primary:#E5A9A9;
  --color-primary-hover:#d99696;

  --color-highlight:#E3C565;

  --color-border:rgba(46,93,58,.15);
}

/* DARK MODE */

[data-theme="dark"]{
  --color-bg:#1F241F;
  --color-card:#2A302A;
  --color-text:#E6E1D6;
  --color-text-muted:#A8B3A0;

  --color-primary:#C98787;
  --color-primary-hover:#b57676;

  --color-highlight:#D4B24F;

  --color-border:rgba(255,255,255,.08);
}


/* ================= RESET ================= */

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  height: 100%;
  background: var(--color-bg);
  color: var(--color-text);
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display",
               "Segoe UI", sans-serif;
  -webkit-font-smoothing: antialiased;
  transition: background-color .3s ease, color .3s ease;
}

/* ================= APP LAYOUT ================= */

#app {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* ================= HEADER ================= */

.header {
  position: sticky;
  top: 0;
  z-index: 100;

  display: flex;
  justify-content: space-between;
  align-items: center;

  padding: 14px 12px;

  background: var(--color-card);
  border-bottom: 1px solid var(--color-border);

  backdrop-filter: blur(12px);
}

.header-title {
  font-weight: 600;
  font-size: 18px;
}

.header-actions {
  display: flex;
  align-items: center;
  gap: 12px;
}

.user-label {
  font-size: 12px;
  color: var(--color-text-muted);
}

.theme-toggle,
.profile-icon {
  width: 36px;
  height: 36px;

  display: flex;
  align-items: center;
  justify-content: center;

  border-radius: 50%;
  border: 1px solid var(--color-border);
  background: var(--color-card);

  cursor: pointer;
  transition: all .2s ease;
}

.theme-toggle:active,
.profile-icon:active {
  transform: scale(.92);
  background: var(--color-highlight);
}

/* ================= CONTENT ================= */

.content {
  flex: 1;
  padding: 0 12px 90px;
}

/* ================= CARDS ================= */

.schedule-card,
.profile-card,
.metric-card,
.panel {
  background: var(--color-card);
  border-radius: 20px;
  padding: 18px;
  margin-bottom: 16px;

  box-shadow:
    0 4px 16px rgba(0,0,0,.04);

  transition: transform .2s ease, box-shadow .2s ease;
}

.schedule-card:active,
.profile-card:active,
.metric-card:active {
  transform: scale(.98);
  box-shadow: 0 2px 10px rgba(0,0,0,.08);
}

/* ================= METRIC ================= */

.metric-label {
  font-size: 13px;
  color: var(--color-text-muted);
}

.metric-value {
  font-size: 26px;
  font-weight: 600;
}

/* ================= ACCOUNT ACTION FIX ================= */

.account-actions{
  margin-top:18px;
  display:flex;
  gap:12px;
}

.account-actions button{
  flex:1;
  height:48px;
  border-radius:16px;
  font-weight:600;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:all .2s ease;
  border:none;
}

/* PRIMARY */
.account-actions .btn-primary{
  background:var(--color-primary);
  color:var(--color-text);
}

.account-actions .btn-primary:hover{
  background:var(--color-primary-hover);
}

.account-actions .btn-primary:active{
  background:var(--color-highlight);
  transform:scale(.97);
}

/* SECONDARY */
.account-actions .btn-secondary{
  background:transparent;
  border:1px solid var(--color-border);
  color:var(--color-text);
}

.account-actions .btn-secondary:active{
  background:var(--color-highlight);
  transform:scale(.97);
}

/* SECONDARY */
.account-actions .btn-secondary{
  background:transparent;
  border:1px solid var(--color-border);
  color:var(--color-text);
  transition:all .2s ease;
}

.account-actions .btn-secondary:active{
  background:var(--color-highlight);
  transform:scale(.97);
}

/* ================= LEDGER ================= */

.ledger-item {
  display: flex;
  justify-content: space-between;
  padding: 10px 0;
}

.ledger-date {
  font-size: 12px;
  color: var(--color-text-muted);
}

/* ================= BOTTOM NAV ================= */

.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;

  display: flex;
  justify-content: space-around;
  align-items: center;

  padding: 8px 0;

  background: var(--color-card);
  border-top: 1px solid var(--color-border);
}

.bottom-nav button {
  flex: 1;
  background: transparent;
  border: none;

  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;

  font-size: 20px;
  color: var(--color-text-muted);
  cursor: pointer;
  transition: all .2s ease;
}

.bottom-nav button span {
  font-size: 11px;
}

.bottom-nav button.active {
  color: var(--color-highlight);
  transform: translateY(-3px);
}

/* ================= TOAST ================= */

.toast {
  position: fixed;
  bottom: 100px;
  left: 50%;
  transform: translateX(-50%);
  padding: 12px 20px;
  border-radius: 18px;
  font-size: 14px;
  color: white;
  z-index: 9999;
  animation: fadeIn .2s ease;
}

.toast-success { background: var(--color-primary); }
.toast-error { background: #c76b6b; }
.toast-warning { background: var(--color-highlight); }

/* ================= ANIMATION ================= */

@keyframes fadeIn {
  from { opacity: 0; transform: translate(-50%, 6px); }
  to { opacity: 1; transform: translate(-50%, 0); }
}


/* ================= ACCOUNT ================= */

:root{
  --account-gap: 18px;
  --card-padding: 16px;
}

.account-container{
  padding-top: 12px;
  max-width:430px;
  margin:0 auto;
}

.account-card{
  background:var(--color-card);
  border-radius:24px;
  padding: var(--card-padding);
  margin-bottom: 12px;
}

.account-top{
  display:flex;
  align-items:center;
  gap:16px;
}

.account-avatar{
  width:72px;
  height:72px;
  border-radius:50%;
  background:var(--color-highlight);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:34px;
  cursor:pointer;
  flex-shrink:0;
}

.account-info{
  flex:1;
  text-align:right;
}

.account-username{
  font-weight:600;
  font-size:18px;
}

.account-level,
.account-playing{
  font-size:12px;
  color:var(--color-text-muted);
  margin-top:2px;
}

.account-membership{
  display:inline-block;
  padding:4px 10px;
  border-radius:20px;
  font-size:12px;
  background:var(--color-highlight);
  color:var(--color-text);
  margin-top:8px;
}

.account-actions{
  margin-top:18px;
  display:flex;
  gap:12px;
}

.btn-secondary{
  flex:1;
  padding:12px;
  border-radius:16px;
  border:1px solid var(--color-border);
  background:transparent;
  color:var(--color-text);
  cursor:pointer;
}

.account-group{
  background:var(--color-card);
  border-radius:24px;
  overflow:hidden;
  margin:0;
}

.group-row{
  padding:16px 18px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  border-bottom:1px solid var(--color-border);
  font-size:14px;
  cursor:pointer;
  transition:background .2s ease;
}

.group-row:last-child{
  border-bottom:none;
}

.group-row:active{
  background:var(--color-highlight);
}


/* ================= BOTTOM SHEET ================= */

.sheet-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.35);
  backdrop-filter:blur(6px);
  opacity:0;
  pointer-events:none;
  transition:opacity .3s ease;
  z-index:9998;
}

.sheet-overlay.active{
  opacity:1;
  pointer-events:auto;
}

.sheet{
  position:fixed;
  left:0;
  right:0;
  bottom:0;

  background:var(--color-card);
  border-radius:28px 28px 0 0;

  padding:24px 20px calc(40px + env(safe-area-inset-bottom));

  max-height:90vh;
  overflow-y:auto;

  transform:translateY(100%);
  transition:transform .35s cubic-bezier(.22,1,.36,1);

  box-shadow:0 -12px 30px rgba(0,0,0,.12);

  z-index:9999;
}

.sheet.active{
  transform:translateY(0);
}

/* HANDLE */

.sheet-handle{
  width:48px;
  height:5px;
  border-radius:10px;
  background:var(--color-border);
  margin:0 auto 22px auto;
}

/* TITLE */

.sheet h3{
  margin-bottom:20px;
  margin-top:0;
  font-size:18px;
  font-weight:600;
}

/* ================= INPUT ================= */

.sheet input,
.sheet select{
  width:100%;
  height:52px;
  padding:0 16px;
  margin-bottom:16px;

  border-radius:18px;
  border:1px solid var(--color-border);

  background:#E9DFC8;
  color:var(--color-text);

  font-size:15px;
  outline:none;

  transition:all .2s ease;
}

.sheet input:focus,
.sheet select:focus{
  border-color:var(--color-highlight);
  box-shadow:0 0 0 3px rgba(227,197,101,.25);
}

/* DATE ICON FIX */

.sheet input[type="date"]::-webkit-calendar-picker-indicator{
  filter:brightness(0.4);
  opacity:.8;
}

/* ================= PHONE ROW ================= */

.phone-row{
  display:flex;
  gap:10px;
}

.phone-row select{
  width:95px;
}

.phone-row input{
  flex:1;
}

/* ================= TERMS ================= */

.terms-row{
  display:flex;
  align-items:center;
  gap:10px;
  font-size:13px;
  color:var(--color-text);
  margin:10px 0 18px;
  cursor:pointer;
}

.terms-row input{
  width:18px;
  height:18px;
  margin:0;
  accent-color:var(--color-highlight);
  cursor:pointer;
}

/* ================= BUTTON ================= */

.sheet .form-submit{
  width:100%;
  height:50px;
  border-radius:18px;
  border:none;
  font-weight:600;
  background:var(--color-primary);
  color:var(--color-text);
  cursor:pointer;
  transition:all .2s ease;
}

.sheet .form-submit:hover{
  background:var(--color-primary-hover);
}

.sheet .form-submit:active{
  background:var(--color-highlight);
  transform:scale(.97);
}
